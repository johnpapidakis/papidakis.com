<!DOCTYPE html>
<html style="font-size: 16px;" lang="en"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Post 1 Headline">
    <meta name="description" content="">
    <title>Interface a Keypad/Display Unit to the 8051 microcontroler accessible via an 8255A Peripheral Adapter</title>
    <link rel="stylesheet" href="../nicepage.css" media="screen">
<link rel="stylesheet" href="../Post-Template.css" media="screen">
    <script class="u-script" type="text/javascript" src="../jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="../nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 5.1.5, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    
    
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "",
		"logo": "images/ioannis-papidakis-low-resolution-logo-color-on-transparent-background.png"
}</script>
    <meta name="theme-color" content="#478ac9">
  </head>
  <body class="u-body u-xl-mode" data-lang="en"><header class="u-clearfix u-header u-header" id="sec-11d2"><div class="u-clearfix u-sheet u-sheet-1">
        <a href="https://nicepage.com" class="u-image u-logo u-image-1" data-image-width="1000" data-image-height="154">
          <img src="../images/ioannis-papidakis-low-resolution-logo-color-on-transparent-background.png" class="u-logo-image u-logo-image-1">
        </a>
        <nav class="u-menu u-menu-one-level u-offcanvas u-menu-1">
          <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px; font-weight: 700;">
            <a class="u-button-style u-custom-border u-custom-border-color u-custom-borders u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-color u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="#">
              <svg class="u-svg-link" viewBox="0 0 24 24"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use></svg>
              <svg class="u-svg-content" version="1.1" id="menu-hamburger" viewBox="0 0 16 16" x="0px" y="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect>
</g></svg>
            </a>
          </div>
          <div class="u-custom-menu u-nav-container">
            <ul class="u-nav u-spacing-20 u-unstyled u-nav-1"><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base" href="../Home.html" style="padding: 10px;">Home</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base" href="../blog/blog.html" style="padding: 10px;">Blog</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-2-base" href="../Contact.html" style="padding: 10px;">Contact</a>
</li></ul>
          </div>
          <div class="u-custom-menu u-nav-container-collapse">
            <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
              <div class="u-inner-container-layout u-sidenav-overflow">
                <div class="u-menu-close"></div>
                <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2"><li class="u-nav-item"><a class="u-button-style u-nav-link" href="../Home.html">Home</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="../blog/blog.html">Blog</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="../Contact.html">Contact</a>
</li></ul>
              </div>
            </div>
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
        </nav>
      </div></header>
    <section class="u-align-center u-clearfix u-section-1" id="sec-6ba4">
      <div class="u-clearfix u-sheet u-valign-middle-md u-valign-middle-sm u-valign-middle-xs u-sheet-1"><!--post_details--><!--post_details_options_json--><!--{"source":""}--><!--/post_details_options_json--><!--blog_post-->
        <div class="u-container-style u-expanded-width u-post-details u-post-details-1">
          <div class="u-container-layout u-valign-middle u-container-layout-1"><!--blog_post_image-->
            <img alt="" class="u-blog-control u-expanded-width u-image u-image-default u-image-1" src="../images/Screenshot2022-12-12at00.55.38.png"><!--/blog_post_image--><!--blog_post_header-->
            <h2 class="u-blog-control u-text u-text-1">Interface a Keypad/Display Unit to the 8051 microcontroler accessible via an 8255A Peripheral Adapter</h2><!--/blog_post_header--><!--blog_post_metadata-->
            <div class="u-blog-control u-metadata u-metadata-1"><!--blog_post_metadata_date-->
              <span class="u-meta-date u-meta-icon">Dec 12, 2022</span><!--/blog_post_metadata_date--><!--blog_post_metadata_category-->
              <!--/blog_post_metadata_category--><!--blog_post_metadata_comments-->
              <!--/blog_post_metadata_comments-->
            </div><!--/blog_post_metadata--><!--blog_post_content-->
            <div class="u-align-justify u-blog-control u-post-content u-text u-text-2 fr-view"><p id="isPasted" style="line-height: 1.32;"><span class="u-custom-font u-font-arial" style="font-size: 1.125rem;">The objective of this experiment is to control and monitor simple peripherals by utilizing a development board. In this case an 8051 microcontroller is used on the development board which is connected to a keypad and a display unit through an 8255 Peripheral Interface adapter. Additionally, with the usage of a source code the system will be able to scan the keypad for any single key press. If a key has been pressed its numerical value must be identified and be displayed to the left-most digit display . &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p><span class="u-custom-font u-font-arial" style="font-size: 1.125rem;">Throughout this experiment the main hardware components that were used are: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p><span class="u-custom-font u-font-arial" style="font-size: 1.125rem;">Keypad with a 4x4 matrix of keys &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p><span class="u-custom-font u-font-arial" style="font-size: 1.125rem;">4-digit 7-segment display unit &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p><p><span class="u-custom-font u-font-arial" style="font-size: 1.125rem;">8051 Microcontroller &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p><span class="u-custom-font u-font-arial" style="font-size: 1.125rem;">8255A Peripheral Interface Adapter &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p><span style="font-weight: 700; text-decoration: underline; font-size: 1.125rem;"><br></span></p><p><span style="font-weight: 700; text-decoration: underline; font-size: 1.25rem;">Keypad</span><span style="font-size: 1.25rem;">&nbsp; &nbsp;&nbsp;</span><span style="font-size: 1.125rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p><span style="font-size: 1.125rem;">There are 16 pushbuttons on the keypad. The figure below (Figure 1.) shows the internal layout of the buttons with columns and rows. A multiplexed configuration, such as that seen in the Figure , is popular when using keypads for data entry with a limited number of I/O lines. The microcontroller is directly connected to the "R" row outputs and "C" column inputs using this layout as a guideline. Assume that resistors that are not visible are weakly pulling the C inputs down. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p><span style="font-size: 1.125rem;">&nbsp; &nbsp;&nbsp;<img src="../images/Screenshot2022-12-12at01.13.40.png" width="540" align="center" style="width: 332px;" class="fr-dib fr-fic"></span></p><h5 style="text-align: center;"><span style="font-size: 1.125rem;">&nbsp;Figure 1: Block Diagram for Keypad Interfacing</span></h5><p><span style="font-size: 1.125rem;"><br></span></p><p id="isPasted"><span style="font-size: 1.125rem;">The following actions must be taken in sequence to detect when a key has been pressed:</span></p><ul><li><span style="font-size: 1.125rem;">"1111"bin is used to drive the row outputs and then column values are read. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></li><li><span style="font-size: 1.125rem;">If the columns read "0000" no keys have been pressed. In contrast, if any column reads "1" it indicates that a key was pressed. The column containing the “1” Illustrates that the key concerned is one of the four keys along that particular column. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></li></ul><p><span style="font-size: 1.125rem;">&nbsp;After that the goal is to identify which one of the four keys was pressed as follows:&nbsp;</span></p><ul><li><span style="font-size: 1.125rem;">While reading the column values the microcontroller is able to drive just one row to the &nbsp;“1” state at a time.&nbsp;</span></li><li><span style="font-size: 1.125rem;">The column outputs will have a value other than "0000" when the row containing the pressed key is set to "1". &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></li></ul><p><span style="font-size: 1.125rem;">&nbsp; &nbsp;&nbsp;</span></p><p id="isPasted"><span style="font-size: 1.125rem;">Controlling the Keypad via the 8255 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p><span style="font-size: 1.125rem;">An 8255 device is used to increase the I/O of the 8051 when external memory addressing is utilised because of the limited number of port pins. The row lines (outputs) and columns (inputs) are connected to Port C of the 8255 via the higher nibble of Port C and the lower nibble of Port C, respectively. The ANL instruction generally helps to achieve this. When supply power is provided, the 8255 automatically resets. It is important to first set up the 8255 Control Register with the required bit values in order to properly configure Port C of the 8255. When the device's A1pin and A0pin are set to "11"bin, the Control Register (CR) is accessible. The lower nibble pins of Port C must be configured as inputs, while the upper nibble pins must function as outputs. Furthermore, when A1pin and A0pin are both set to "10", Port C is accessible. &nbsp; &nbsp;</span></p><p><br></p><p><span style="font-size: 1.125rem;"><img src="../images/Screenshot2022-12-12at00.55.38.png" width="620" align="center" style="width: 875px;" class="fr-dib fr-fic"></span></p><p style="text-align: center;">Figure 2: Block Diagram for Keypad and Display Interfacing</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p><p><br></p><p id="isPasted">&nbsp;Controlling the Display via the 8255 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><p>There are four seven-segment units that form the display. Each individual segment can be controlled by sending control words to it. Port A of 8255 is connected to the segment pins a,b,c,..,h (parallel connection) to each one of the display modules. Then, to choose which of the four displays is on at any particular time, Port B's lower nibble is used. A display subroutine can be used to allow the four display digits to show different information simultaneously. The way the subroutine mechanism works is as follows:&nbsp;</p><p>The 8051 uses four registers (R0, R1, R2, R3) to store the numerical value (segment code) for each individual display segment. The four display devices are selected one at a time. A display's specific segment code is written to the segment lines when it is active, allowing the proper value to be displayed. The display code of the following display device is used in its place when it is chosen. If this process is completed quickly enough, it looks like each of the four displays is constantly illuminated while displaying the corresponding numerical number. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><p>&nbsp; &nbsp;&nbsp;</p><p id="isPasted">Program Function &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><p>The following actions are being performed that define the function of the program:&nbsp;</p><p>1) the contents of the R0 (left most digit), R1, R2 and R3 are constantly written to the display. These registers' contents contain the segment code for the equivalent decimal character.&nbsp;</p><p>2) Check for any single key press on the keypad. When a key press has been established the program has to identify the corresponding key that was pressed, and its numerical value used to ensure that the left-most digit displays the accurate value of the key. This applies to the keys “0...9” and “A...E”. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p><p>3) Each time a key is pressed, the value of each digit that is being displayed must be shifted by one place to the left. The value of the most significant digit is popped when it is updated with the value shifted (pushed) to the right. Since the registers R0, R1, R2, and R3 hold the value of the digits, their contents must be adjusted with the proper order of operations: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><p style="text-align: center;">New R3 &lt;= Old R2&nbsp;</p><p style="text-align: center;">New R2 &lt;= Old R1&nbsp;</p><p style="text-align: center;">New R1 &lt;= Old R0&nbsp;</p><p style="text-align: center;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;New R0 &lt;= Segment code for new key pressed &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p><p>4) The display must be set to ensure flicker-free lighting of the characters stored in the R0, R1, R2 and R3 registers, and for that reason the keypad must feature a debounce mechanism.&nbsp;</p><p>5) Whenever “F” key is pressed the content of the registers R0, R1, R2, R3 should reset to heir null value (0000 displayed). Then, key presses will once again be displayed as being entered from the display's most-left digit. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><p><img src="../images/Screenshot2022-12-08at02.10.44.png" width="620" style="width: 620px;" class="fr-dib fr-fic"></p><p><br></p><p><br></p><p id="isPasted" style="text-align: left;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p></div><!--/blog_post_content-->
          </div>
        </div><!--/blog_post--><!--/post_details-->
      </div>
    </section>
    
    
    <footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-3ede"><div class="u-clearfix u-sheet u-sheet-1">
        <p class="u-small-text u-text u-text-variant u-text-1"> © 2022 Ioannis Papidakis - All Rights Reserved</p>
      </div></footer>
    <section class="u-backlink u-clearfix u-grey-80">
      <a class="u-link" href="https://nicepage.com/website-templates" target="_blank">
        <span>Website Templates</span>
      </a>
      <p class="u-text">
        <span>created with</span>
      </p>
      <a class="u-link" href="" target="_blank">
        <span>Website Builder Software</span>
      </a>. 
    </section>
  
</body></html>